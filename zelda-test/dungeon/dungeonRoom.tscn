[gd_scene load_steps=9 format=3 uid="uid://882bo1vji1bc"]

[ext_resource type="Texture2D" uid="uid://dk5b5rx1x64g0" path="res://assets/dungeon_walls.png" id="1_mnpom"]
[ext_resource type="Script" path="res://dungeon/dungeon_room.gd" id="1_qix6g"]
[ext_resource type="PackedScene" uid="uid://cewqkf210o7f" path="res://dungeon/door.tscn" id="3_lpe1d"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_m1yut"]
size = Vector2(16, 13)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_kjf3b"]
size = Vector2(16, 13)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_dd6ii"]
size = Vector2(13, 16)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_slcch"]
size = Vector2(13, 16)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_jwrys"]
size = Vector2(192, 112)

[node name="DungeonRoom" type="Node2D"]
process_mode = 1
script = ExtResource("1_qix6g")

[node name="Sprite2D" type="Sprite2D" parent="."]
texture = ExtResource("1_mnpom")

[node name="DoorUp" parent="." instance=ExtResource("3_lpe1d")]
position = Vector2(0, -72)
door_state = 0

[node name="Sprite2D" parent="DoorUp" index="0"]
frame = 0

[node name="CollisionShape2D" parent="DoorUp" index="1"]
position = Vector2(0, 9.5)
shape = SubResource("RectangleShape2D_m1yut")

[node name="DoorDown" parent="." instance=ExtResource("3_lpe1d")]
position = Vector2(0, 72)
door_state = 0

[node name="Sprite2D" parent="DoorDown" index="0"]
frame = 0
region_rect = Rect2(0, 96, 160, 32)

[node name="CollisionShape2D" parent="DoorDown" index="1"]
position = Vector2(0, -9.5)
shape = SubResource("RectangleShape2D_kjf3b")

[node name="DoorLeft" parent="." instance=ExtResource("3_lpe1d")]
position = Vector2(-112, 0)
door_state = 0

[node name="Sprite2D" parent="DoorLeft" index="0"]
frame = 0
region_rect = Rect2(0, 32, 160, 32)

[node name="CollisionShape2D" parent="DoorLeft" index="1"]
position = Vector2(9.5, 0)
shape = SubResource("RectangleShape2D_dd6ii")

[node name="DoorRight" parent="." instance=ExtResource("3_lpe1d")]
position = Vector2(112, 0)
door_state = 0

[node name="Sprite2D" parent="DoorRight" index="0"]
frame = 0
region_rect = Rect2(0, 64, 160, 32)

[node name="CollisionShape2D" parent="DoorRight" index="1"]
position = Vector2(-9.5, 0)
shape = SubResource("RectangleShape2D_slcch")

[node name="Walls" type="StaticBody2D" parent="."]
collision_mask = 2

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Walls"]
position = Vector2(-128, -88)
polygon = PackedVector2Array(0, 0, 120, 0, 120, 32, 32, 32, 32, 80, 0, 80)

[node name="CollisionPolygon2D2" type="CollisionPolygon2D" parent="Walls"]
position = Vector2(-128, -88)
polygon = PackedVector2Array(136, 0, 136, 32, 224, 32, 224, 80, 256, 80, 256, 0)

[node name="CollisionPolygon2D3" type="CollisionPolygon2D" parent="Walls"]
position = Vector2(-128, -88)
polygon = PackedVector2Array(0, 96, 32, 96, 32, 144, 120, 144, 120, 176, 0, 176)

[node name="CollisionPolygon2D4" type="CollisionPolygon2D" parent="Walls"]
position = Vector2(-128, -88)
polygon = PackedVector2Array(136, 144, 224, 144, 224, 96, 256, 96, 256, 176, 136, 176)

[node name="PlayerDetector" type="Area2D" parent="."]
collision_mask = 2

[node name="CollisionShape2D" type="CollisionShape2D" parent="PlayerDetector"]
shape = SubResource("RectangleShape2D_jwrys")
metadata/_edit_lock_ = true

[connection signal="body_entered" from="PlayerDetector" to="." method="_on_player_detector_body_entered"]

[editable path="DoorUp"]
[editable path="DoorDown"]
[editable path="DoorLeft"]
[editable path="DoorRight"]
